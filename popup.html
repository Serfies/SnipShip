<!DOCTYPE html>
<html>
<head>
    <title>AraAo</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="grid-container">
        <header class="grid-header surface">
            <div class="header-content">
                <img src="icons/icon48.png" alt="AraAo Icon" class="header-icon">
                <h1>AraAo</h1>
                <button id="help-button" class="help-icon">?</button>
            </div>
        </header>

        <main class="grid-body">
            <div id="webhook-selection-area" class="card">
                <h2>Select Webhook:</h2>
                <div id="webhook-list-selection" class="scrollable-list"></div>
                <button id="send-selected-text-button" class="full-width-button">Send Selected Text</button>
                <div class="button-group">
                    <button id="add-webhook-button" class="action-button"><span class="button-icon">+</span>Add Webhook</button>
                    <button id="edit-webhook-button" class="action-button"><span class="button-icon">&#9998;</span>Edit Webhook</button>
                    <button id="delete-webhook-button" class="action-button"><span class="button-icon">&#128465;</span>Delete Webhook</button>
                </div>
            </div>

            <div id="response-area" class="card">
                <div class="response-header">
                    <h2>Workflow Response:</h2>
                    <button id="copy-response-button" class="action-button"><span class="button-icon">&#x2398;</span>Copy Response</button>
                </div>
                <div id="response-content"></div>
                <div id="loading-spinner" class="spinner" style="display: none;"></div>
                <div id="skeleton-loader" style="display: none;">
                    <div class="skeleton-loader line"></div>
                    <div class="skeleton-loader line"></div>
                    <div class="skeleton-loader short"></div>
                </div>
            </div>
        </main>

        <footer class="grid-footer surface">
            <p>Access GitHub project at <a href="https://github.com/Serfies/AraAo" target="_blank">https://github.com/Serfies/AraAo</a></p>
        </footer>
    <script src="marked.min.js"></script>
    <script src="popup.js"></script>

    <!-- Help Modal -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-help-modal">&times;</span>
            <h2>AraAo Help</h2>

            <p><strong>Araao</strong> is more than an extension; it's a new way to interact with the web. In te reo Maori, the name means <em>"Path to the Cloud"</em> or <em>"Path to Enlightenment"</em> (<strong>Ara</strong> + <strong>Ao</strong>). Our purpose is to create that direct path, connecting your browser to the limitless potential of artificial intelligence and automation. Move from questions to clarity, instantly.</p>

            <h3>Unlock a Smarter Workflow</h3>
            <p>With <strong>Araao</strong>, your browser becomes an active partner in your work. Seamlessly integrate the world's most powerful AI models and your own custom workflows with the content you see every day.</p>

            <h3>Key Features:</h3>
            <ul>
                <li><strong>Universal AI Connection:</strong> Hook directly into LLMs like Gemini and ChatGPT via their APIs. Bring state-of-the-art intelligence to any webpage.</li>
                <li><strong>Agentic Workflow Integration:</strong> Connect to automation platforms like n8n via webhooks. Trigger complex, multi-step workflows directly from your browser.</li>
                <li><strong>Context-Aware Processing:</strong> Simply select text on any page and send it to the AI or workflow of your choice for summarizing, translating, analyzing, and more.</li>
                <li><strong>Flexible Inputs:</strong> Interact your way. Use the simple text box for direct prompts, upload local documents (PDFs, TXT), or even link to your Google Docs for deeper analysis.</li>
                <li><strong>Unified Command Center:</strong> All outputs from your AI queries and webhook actions are displayed cleanly within the extension, keeping your workflow tidy and efficient.</li>
            </ul>

            <p>Whether you're a researcher, a writer, a developer, or just a curious mind, <strong>Araao</strong> is the essential bridge to a more intelligent and automated web. Install <strong>Araao</strong> and forge your path to clarity.</p>

        </div>
    </div>

    <!-- Manage Webhooks Modal -->
    <div id="manage-webhooks-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-manage-webhooks-modal">&times;</span>
            <h2>Manage Webhooks</h2>
            <form id="webhook-form">
                <input type="hidden" id="webhook-id">
                <label for="webhook-name">Name:</label>
                <input type="text" id="webhook-name" required>
                <label for="webhook-url">URL:</label>
                <input type="url" id="webhook-url" required>
                <label for="webhook-api-key">API Key (x-api-key header, optional):</label>
                <input type="text" id="webhook-api-key">
                <label for="webhook-input-field-name">Input Field Name (e.g., chatInput):</label>
                <input type="text" id="webhook-input-field-name" value="chatInput">
                <label for="webhook-output-field-name">Output Field Name (e.g., output):</label>
                <input type="text" id="webhook-output-field-name" value="output">
                <label for="webhook-description">Description:</label>
                <textarea id="webhook-description"></textarea>
                <button type="submit" id="save-webhook-button">Save Webhook</button>
                <button type="button" id="cancel-edit-button" style="display:none;">Cancel Edit</button>
            </form>
            <ul id="webhook-list"></ul>
        </div>
    </div>
</body>
</html>